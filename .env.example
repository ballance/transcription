# Transcription Service Configuration
# Copy this file to .env and adjust values as needed

# Whisper Model Configuration
# Options: tiny, base, small, medium, large
# Larger models = more accurate but slower
# Recommendation: large for accuracy, base for speed
WHISPER_MODEL_SIZE=large

# Enable FP16 processing (faster on compatible hardware)
# Set to "true" or "false"
WHISPER_FP16=false

# Folder Paths
# Where to look for video files to transcribe
TRANSCRIBE_VIDEO_FOLDER=~/Movies

# Where to look for audio files to transcribe
TRANSCRIBE_AUDIO_FOLDER=./work

# Working directory for temporary files
TRANSCRIBE_WORK_FOLDER=./work

# Where to save transcription output files
TRANSCRIBE_OUTPUT_FOLDER=./transcribed

# Processing Settings
# How often to scan for new files (in seconds)
SCAN_INTERVAL=30

# Maximum retry attempts for failed transcriptions
MAX_RETRIES=3

# File Filtering
# Skip files created before this date (format: YYYY-MM-DD)
# Useful to prevent processing old content
SKIP_FILES_BEFORE_DATE=2025-12-01

# WhisperX Settings
# CTranslate2 compute type: auto, int8, int8_float16, float16, float32
# "auto" maps based on device: int8 for CPU, int8_float16 for CUDA
WHISPER_COMPUTE_TYPE=auto

# WhisperX batch size (0 = auto: 16 for GPU, 4 for CPU)
WHISPERX_BATCH_SIZE=0

# Speaker Diarization (requires HuggingFace token)
# Set to "true" to enable speaker labels in transcriptions
WHISPER_DIARIZATION=false

# HuggingFace token â€” required when WHISPER_DIARIZATION=true
# Must have accepted the pyannote/speaker-diarization-3.1 user agreement
# https://huggingface.co/pyannote/speaker-diarization-3.1
HF_TOKEN=

# Optional: constrain number of speakers for diarization
# DIARIZATION_MIN_SPEAKERS=2
# DIARIZATION_MAX_SPEAKERS=5

# Speaker Recognition (requires diarization enabled)
# Matches diarized speakers to enrolled voice profiles
# Enroll speakers with: python enroll_speaker.py record "Name"
SPEAKER_RECOGNITION=false

# Path to speaker profiles JSON file
SPEAKER_PROFILES_PATH=./speaker_profiles.json

# Minimum cosine similarity to accept a speaker match (0.0-1.0)
SPEAKER_RECOGNITION_THRESHOLD=0.55

# API Settings (for app.py)
# Maximum upload file size in megabytes
MAX_UPLOAD_SIZE_MB=500
